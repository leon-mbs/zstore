<html>
    <head>
            <title> Довідник нарахувань та утримань </title>
  </head>

    <body>
        <div class="row">
            <div class="col-12  ">
            
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active"   data-toggle="tab" href="#listtab" role="tab"  >Перелiк</a>
  </li>
  <li class="nav-item">
    <a class="nav-link"   data-toggle="tab" href="#calctab" role="tab"  >Формули</a>
  </li>
  <li class="nav-item">
    <a class="nav-link"   data-toggle="tab" href="#optiontab" role="tab"  >Налаштування</a>
  </li>
</ul>
<div class="tab-content"  >
  <div class="tab-pane   show active" id="listtab"  >
       <div class="row"    >
       
               <div zippy="tablepan"  class="col-12  col-md-8  col-xl-6" >
                <h3>Довідник нарахувань та утримань </h3>    
                    <a zippy="addnew" class="btn btn-outline-primary  ">Додати</a>
                    <table class="table table-bordered   table-sm"  >
                        <tr>
                            <th>Найменування</th>

                            <th> Скорочення</th>
                            <th> Код</th>
                         
                            <th> </th>
                        </tr>
                        <tr zippy="stlist">
                            <td zippy="stname"></td>
                            <td zippy="shortname"></td>
                            <td zippy="code"></td>
                           
              
                            <td  ><a zippy="edit" title="Редагувати"><i class="fa fa-edit"></i></a></td>
                        </tr>
                    </table>


                </div>

                <form class="col-6 col-md-6 col-xl-4" zippy="editform">
                    <div class="form-group">
                        <label for="editstname">Найменування</label>
                        <input autofocus="on"    required  class="form-control" zippy="editstname"/>
                    </div>
                    <div class="form-group">
                        <label for="editshortname">Скорочене позначення</label>
                        <input maxlength="10"  style="width:200px;"  required  class="form-control" zippy="editshortname"/>
                        <small>До 10 символів. Використовується для заголовків таблиць у документах та звітах</small>
                    </div>
                    <div class="form-group">
                        <label for="editcode">Код                        </label>
                        <input style="width:75px;" pattern="[0-9]{3}"  required  class="form-control" zippy="editcode"/>
                        <small>Тризначний код   для використання у формулах. Колонки в документах та звітах будуть розміщені у порядку, заданому кодом.
                         </small>
                    </div>

                 
                    <div class="form-check">
                        <input zippy="editdisabled" type="checkbox" class="form-check-input">
                        <label class="form-check-label" for="editdisabled">Більше не використовується</label>
                    </div>
                   <div class="form-group">
                     <input zippy="cancel" type="button" value="Скасувати" class="btn btn-outline-primary mr-2 ">
                     <input zippy="save" type="submit" value="Зберегти" class="btn btn-primary mr-2 ">
                     <input zippy="delete" type="button" value="Видалити" class="btn btn-outline-danger  ">
                   </div>
                </form>
  
         
       </div>
  </div>
  <div class="tab-pane  " id="calctab"  >
     <h3>Формули розрахунку зарплати</h3>   
      <div class="row"    >
       <div class="col-12 col-md-6 col-xl-4"    >
         
         <form zippy="calcform"  >
             <div class="form-group">
                <label for="calcbase">Розрахунок основної зарплати</label>             
                <textarea style="height:100px;width:300px" class="form-control" zippy="calcbase" ></textarea>
                <span>Виконується однократно для заповнення поля  редагування</span>
             </div> 
             <div class="form-group">
                <label for="calc">Розрахунок нарахувань та утримань </label>
                <textarea style="height:400px;width:300px" class="form-control" zippy="calc" ></textarea>
                <span>Виконується після редагування основної зарплати</span>
           </div> 
             <div class="form-group">
                    
                     <a zippy="savecalc"    class="btn btn-success  ">Зберегти</a>&nbsp;&nbsp;
                      
             </div>
                
             
         </form>   
         
          </div>
 <div class="col-12 col-md-6  "    >
     <h5>Коди контексту      </h5>
       <b>daysmon</b>  - кiлькiсть робочих днiв у мiсяцi   <br>
       <b>invalid</b> - особа з iнвалiдністю (true або false) <br>
       <b>salarytype</b> - тип  зарплати   1 - оклад, 2 - Погодинна оплата, 3 - відрядна оплата <br>  
       <b>salarym</b> - оклад    <br>
       <b>salaryh</b> - погодинна  сума    <br>
       <b>sellvalue</b> - виручка   по продажних документах співробітника <br>
       <b>tasksum</b> - сума  по нарядах <br>
       <b>hours</b> - робочi години з облiку часу <br>
       <b>days</b> - робочi днi з облiку часу <br>
       <b>hours_over</b> - переробка <br>
       <b>hours_week</b> - години в вихiднi <br>
       <b>days_week</b> - днi в вихiднi <br>
       <b>days_vac</b> - днi вiдпустки <br>
       <b>days_sick</b> - лiкарнянi днi <br>
       <b>days_bt</b> - днi в вiдрядженнi <br>

     
      
       <br>
       <br>
<details>
            <summary><b>Керiвництво по синтаксису</b></summary>
            <p>  <br>
              Формули пишуться з використанням синтаксису мови JavaScript. Обчислення (у документі Нарахування зарплати) здійснюються за
              рядками (за співробітником у переліку) .
              <br>Нарахування та утримання позначаються кодом із префіксом v.
               <br>Наприклад v900 = v200 + v300
              <br>При необхідності список нарахувань та утримань може мати не грошові поля, наприклад, кількість днів відпустки
              або лікарняного для розрахунку на підставі зарплати та кількості днiв у місяці.
               <br> Для форматування  сум (наприклад  після  операцій ділення)  можна використати  функцію  fa()  наприклад = v105=fa(v105) . 
               Кількість нулів після  коми буде відповідати загальним налаштуванням.
                 
              <br>Також можуть використовуватися деякі системні змінні, такі як кількість днів у
              місяці, кількість дітей, особа з інвалідністю, сумісник тощо.
              
              <br>Результат має бути присвоєний зміннiй з номером, заданим у налаштуваннях -
              поле До видачі. Цим полем буде виконано запис в особистий рахунок співробітника.
              
              <br>Формули зберігаються як налаштування, тобто може бути заданий алгоритм для будь якого
              типу бізнесу та/або будь якого законодавства будь якої країни.
               <br>  Розрахунок  може не  працювати  зза  помилки  в  формулах, наприклад  неіснуюча змінна  або  який  спецсимвол.
               помилки скрипта   можна побачити  в  devtools (для  хрома  F12-&gt;console)
             </p>
         </details>        
       </div>
     </div>
       
  </div>
  <div class="tab-pane  " id="optiontab"  >
     <h3>Налаштування </h3>
    <div class="row"    >
       <div class="col-12 col-md-6 col-xl-4"    >
         
         <form zippy="optform"  >
             <div class="form-group">
                <label for="optbaseincom">Основна зарплата</label>
                <select  class="form-control" zippy="optbaseincom" >
                   <option value="0">Не вибрано</option>
                </select>
                <small>Показуєтся  як  поле ручного вводу </small>
               <br> <small> <i class="fa fa-exclamation-triangle"></i> Інші поля тільки на  основі  формул  </small>
             </div> 
             <div class="form-group">
                <label for="optbonus">Бонуси та премії</label>
                <select  class="form-control" zippy="optbonus" >
                   <option value="0">Не вибрано</option>
                </select>
                <small>Сума нарахувань на  особовому  рахунку (на підставі офісних документів) </small>
             </div> 
             <div class="form-group">
                <label for="optfine">Штрафи тп  вирахування</label>
                <select  class="form-control" zippy="optfine" >
                   <option value="0">Не вибрано</option>
                </select>
                <small>Сума вирахувань на особовому  рахунку (на підставі офісних документів) </small>
             </div> 
             <div class="form-group">
                <label for="optadvance">Видані аванси</label>
                <select  class="form-control" zippy="optadvance" >
                   <option value="0">Не вибрано</option>
                </select>
                <small>Заповнюється виданими авансами за вказаний місяць</small>
             </div> 
     
      
             <div class="form-group">
                <label for="optresult">До видачi</label>
                <select  class="form-control" zippy="optresult" >
                
                </select>
                <small>Обов'язкове поле, значення якого заноситься до балансу особового рахунку співробітника. </small>
                
             </div> 
     
             <div class="form-group">
                    
                      
                   <a zippy="saveopt"    class="btn btn-success  ">Зберегти</a>
                      
             </div>
                
             
         </form>    
     
  </div>
</div>           
</div>           
                     
                 
                
                
            </div>
        </div>
        </div>
           <script>               
         function check_delete() {
                return confirm("Видалити?")
            }
        </script>     
    </body>
</html>