<html>
<head>

</head>
<body>


<form zippy="docform">
    <h3> Выплата зарплаты</h3>
    <div class="row">
        <div class="col-12 col-md-4 col-xl-3">
            <div class="form-group">
                <label for="document_number">Номер документа</label>
                <input class="form-control" type="text" zippy="document_number">
            </div>
            <div class="form-group">
                <label for="document_date"> Дата</label>
                <input class="form-control" type="text" zippy="document_date" required="required">
            </div>


            <div class="form-group  ">
                <label for="notes">Примечание </label>

                <input class="form-control" type="text" zippy="notes">

            </div>

        </div>
        <div class="col-12 col-md-4 col-xl-3">
            <div class="form-group  ">
                <label for="payment">Со счета</label>
                <select class="form-control" zippy="payment">
                </select>
            </div>
            <div class="form-group  ">
                <label for="year">Год</label>
                <select class="form-control" zippy="year">
                </select>
            </div>
            <div class="form-group  ">
                <label for="month">Месяц</label>
                <select class="form-control" zippy="month">
                </select>
            </div>

        </div>
    </div>
    <div class="row">
        <div class="col-12 col-md-8 col-xl-6">
            <table class="table ">
                <tr>
                    <th>ФИО</th>
                    <th>Сумма</th>
                </tr>
                <tr zippy="elist">
                    <td><span zippy="emp_name"></span></td>
                    <td><input onblur="calcTotal()" class="salsum" zippy="amount" pattern="[0-9\.]+"
                               style="width:100px"/></td>
                </tr>
                <tr>
                    <td><b>Итого</b></td>
                    <td><b zippy="total"></b></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-12 col-md-6">
            <input type="button" value="Отменить" zippy="backtolist" class="btn   btn-light">
            &nbsp; <input zippy="savedoc" type="submit" value="Сохранить" class="btn   btn-outline-primary">
            &nbsp;<input zippy="execdoc" type="submit" value="Провести" class="btn btn-primary  ">

        </div>
    </div>


</form>

<script>

    function calcTotal() {
        var total = 0;

        $('.salsum').each(function (index, value) {
            var a = $(this).val();
            a = parseFloat(a);
            if (isNaN(a) == false) {
                total = total + a;
            }


        });

        $('#total').text(total)
    }
</script>

</body>

</html>
